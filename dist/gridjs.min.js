/**
 * gridjs - Provides a dynamic data structure for storage and access of entities within a grid structure.
 * @version 0.0.1
 * @link https://github.com/tvdavies/gridjs
 * @copyright Copyright (c) 2016 Tom Davies
 * @license https://github.com/tvdavies/gridjs/raw/master/LICENSE.md
 */
!function(e,n){if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else{var r={exports:{}};n(r.exports),e.gridjs=r.exports}}(this,function(e){"use strict";function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e){return Object.keys(e).map(function(n){return e[n]})}function t(e){var n={};return e&&"[object Function]"===n.toString.call(e)}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0,r="x"==e?n:3&n|8;return r.toString(16)})}function o(e){return[s,l,f,a,x,h,p,b,d,v,N].includes(e)}function i(e){return e&&e instanceof g}function c(){function e(e,n){var r=e.length>0?e[e.length-1]:null,u=n.length>0?n[n.length-1]:null,o=new g(r,u,j);return null!==r&&(r.nextInRow=o),null!==u&&(u.netInCol=o),y[o.id]=o,e.push(o),n.push(o),t(j.entityAdded)&&j.entityAdded(e,n,o.properties,o.id),o}function n(e){var n=null;n=i(e)?e:"string"==typeof e&&Object.keys(y).includes(e)?y[e]:Array.isArray(e)&&2===e.length?m(e[0],e[1]):O(e)}function u(e,n,r){if(e!==n)switch(r){case s:return!0;case l:return n===e.prevInRow;case f:return n===e.prevInRow;case a:return n.rowNumber===e.rowNumber-1;case x:return n.rowNumber===e.rowNumber;case h:return n.rowNumber===e.rowNumber+1;case p:return n===e.prevInCol;case b:return n===e.nextInCol;case N:return n.colNumber===e.colNumber-1;case v:return n.colNumber===e.colNumber;case d:return n.colNumber===e.colNumber+1}return!1}function c(e,n){return r(y).filter(function(r){return u(e,r,n)})}function m(e,n,r){if(r){for(var t=_.length;t<e;t++)w();for(var u=E.length;u<n;u++)C()}return _.length>=e&&_[e-1].length>=n?_[e-1][n-1]:null}function O(e){return r(y).find(function(n){return n.userObject===e})||null}function w(){var n=[];E.forEach(function(r){return e(n,r)}),_.push(n)}function C(){var n=[];_.forEach(function(r){return e(r,n)}),E.push(n)}function R(e,n){var r=e.userObject;e.userObject=n,t(j.userObjectChanged)&&j.userObjectChanged(n,r,e.rowNumber,e.colNumber,e.properties,e.id)}var j=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],y={},_=[],E=[],I={};return I.publish=function(e,r,u,i){if(e=n(e),null===e)throw new Error("Cannot publish message without a valid source");var s=n(r);null!==s?t(j.entityMessageReceived)&&j.entityMessageReceived(u,i,s.userObject,s.properties,s.id):o(r)&&c(e,r).forEach(function(n){return I.publish(e,n,u,i)})},I.find=function(e){return t(e)?r(y).filter(function(n){return e(n.userObject,n.properties,n.id)}):[]},I.get=function(e,n,r){if(t(r)){var u=m(e,n,!1);r(u.userObject,u.properties)}},I.set=function(e,n,r){var t=m(e,n,!0);r&&R(t,r)},I.move=function(e,n,r,t){var u=m(e,n),o=m(r,t,!0);if(u&&o){var i=u.userObject;R(u,null),R(o,i)}},I.getRowCount=function(){return _.length},I.getColumnCount=function(){return E.length},I}Object.defineProperty(e,"__esModule",{value:!0});var s="ALL",l="PREV_IN_ROW",f="NEXT_IN_ROW",a="PREV_ROW",x="ROW",h="NEXT_ROW",p="PREV_IN_COL",b="NEXT_IN_COL",d="PREV_COL",v="COL",N="NEXT_COL",g=function m(e,r,t){n(this,m),this.id=u(),this.rowNumber=e?e.rowNumber+1:1,this.colNumber=r?r.colNumber+1:1,this.prevInRow=e,this.prevInCol=r,this.properties={},this.userObject=null,this.options=t};e.createGrid=c});
//# sourceMappingURL=gridjs.min.js.map
